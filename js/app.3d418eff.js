(function(){"use strict";var e={1822:function(e,t,i){var s=i(9242),a=i(3396);function n(e,t,i,s,n,l){const r=(0,a.up)("FormSelects");return(0,a.wg)(),(0,a.j4)(r)}const l={key:0,id:"message"},r={key:1,id:"message"},c=(0,a._)("button",{type:"submit"},"Сохранить",-1);function o(e,t,i,s,n,o){const d=(0,a.up)("SelectElement");return(0,a.wg)(),(0,a.iD)(a.HY,null,[this.isValidForm?((0,a.wg)(),(0,a.iD)("p",r,'Готово, все поля заполнены! Нажмите "Отправить". (результат в cookie).')):((0,a.wg)(),(0,a.iD)("p",l,"Заполните все поля:")),(0,a._)("form",{onSubmit:t[1]||(t[1]=(...e)=>o.submitForm&&o.submitForm(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.selectList,((e,i,s)=>((0,a.wg)(),(0,a.j4)(d,{onChangedSelect:t[0]||(t[0]=e=>o.changedSelect(e)),key:s,selectName:i,selectData:"factory"!=i&&"employee"!=i?e:"factory"===i?n.filteredFactory:n.filteredEmployee,disabledValues:n.disabledValues},null,8,["selectName","selectData","disabledValues"])))),128)),c],32)],64)}var d=JSON.parse('[{"id":1,"name":"Москва"},{"id":2,"name":"Пермь"}]'),u=JSON.parse('[{"city":"Москва","code":10,"id":1},{"city":"Пермь","code":11,"id":2}]'),m=JSON.parse('[{"brigade":5,"factory":10,"id":1,"last_name":"Иванов","middle_name":"Иванович","name":"Игорь"},{"brigade":6,"factory":10,"id":2,"last_name":"Степанова","middle_name":"Сергеевна","name":"Ольга"},{"brigade":7,"factory":10,"id":3,"last_name":"Дубин","middle_name":"Васильевич","name":"Павел"},{"brigade":5,"factory":11,"id":4,"last_name":"Прокопчук","middle_name":"Петрович","name":"Макар"},{"brigade":6,"factory":11,"id":5,"last_name":"Зарубин","middle_name":"Иванович","name":"Дмитрий"},{"brigade":7,"factory":11,"id":6,"last_name":"Люблина","middle_name":"Олеговна","name":"Ирина"}]'),f=JSON.parse('[{"code":5,"id":1},{"code":6,"id":2},{"code":7,"id":3}]'),h=JSON.parse('[{"id":1,"type":"Дневная"},{"id":2,"type":"Ночная"}]'),p=i(7139);const y={class:"row"},b=["disabled"],g=["value"];function v(e,t,i,n,l,r){return(0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("p",null,(0,p.zw)(r.title),1),(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedValue=e),onChange:t[1]||(t[1]=(...e)=>r.changedSelect&&r.changedSelect(...e)),disabled:r.isDisable},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.selectData,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,p.zw)(r.isDisable?"":r.displayedTextFields.reduce(((t,i)=>t+" "+e[i]),"")),9,g)))),128))],40,b),[[s.bM,l.selectedValue]])])}var O={name:"SelectElement",components:{},emits:["changedSelect"],props:{selectName:String,selectData:Object,disabledValues:Array},data(){return{selectedValue:""}},methods:{changedSelect(e){e.preventDefault(),this.selectedValue?this.$emit("changedSelect",{[this.selectName]:this.selectedValue}):this.selectedValue=""}},computed:{title:function(){return"city"===this.selectName?"Выберите город":"factory"===this.selectName?"Выберите цех":"employee"===this.selectName?"Выберите сотрудника":"brigade"===this.selectName?"Выберите бригаду":"schedule"===this.selectName?"Выберите смену":""},displayedTextFields:function(){return"city"===this.selectName?["name"]:"employee"===this.selectName?["last_name","name","middle_name"]:"schedule"===this.selectName?["type"]:["code"]},isDisable:function(){return this.disabledValues.includes(this.selectName)}}},S=i(89);const N=(0,S.Z)(O,[["render",v],["__scopeId","data-v-6ffdb8d6"]]);var V=N,_={name:"formSelects",components:{SelectElement:V},data(){return{selectList:{},selectedValues:{},disabledValues:["factory","employee"],filteredFactory:{},filteredEmployee:{}}},methods:{saveCookie(e,t){document.cookie=`${e} = ${JSON.stringify(t)}; path=/; samesite=Lax`},submitForm(e){if(e.preventDefault(),this.isValidForm)for(const[t,i]of Object.entries(this.selectedValues))this.saveCookie(t,i)},filterData(e,t,i){return e.filter((function(e){return e[t]===i}))},isEmptyObject(e){return 0===Object.keys(e).length&&e.constructor===Object},changedSelect(e){let t=Object.keys(e)[0],i=e[t];this.selectedValues[t]=i,"city"==t?(this.filteredFactory=this.filterData(this.selectList.factory,"city",i.name),this.disabledValues=["employee"],this.selectedValues.factory="",this.selectedValues.employee=""):"factory"==t&&(this.filteredEmployee=this.filterData(this.selectList.employee,"factory",i.code),this.disabledValues=[],this.selectedValues.employee="")},getData(){let e=JSON.parse(JSON.stringify(d)),t=JSON.parse(JSON.stringify(u)),i=JSON.parse(JSON.stringify(m)),s=JSON.parse(JSON.stringify(f)),a=JSON.parse(JSON.stringify(h));this.selectList.city=e,this.selectList.factory=t,this.selectList.employee=i,this.selectList.brigade=s,this.selectList.schedule=a}},computed:{isValidForm:function(){let e=!1;const t=5===Object.keys(this.selectedValues).length;for(let i in this.selectedValues)if(e=!0,0===this.selectedValues[i].length){e=!1;break}return t&&e}},created(){this.getData()}};const w=(0,S.Z)(_,[["render",o]]);var D=w,k={name:"App",components:{FormSelects:D},data(){return{}}};const J=(0,S.Z)(k,[["render",n]]);var j=J;(0,s.ri)(j).mount("#app")}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,n){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],n=e[d][2];for(var r=!0,c=0;c<s.length;c++)(!1&n||l>=n)&&Object.keys(i.O).every((function(e){return i.O[e](s[c])}))?s.splice(c--,1):(r=!1,n<l&&(l=n));if(r){e.splice(d--,1);var o=a();void 0!==o&&(t=o)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,n,l=s[0],r=s[1],c=s[2],o=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(c)var d=c(i)}for(t&&t(s);o<l.length;o++)n=l[o],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(d)},s=self["webpackChunkvue"]=self["webpackChunkvue"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(1822)}));s=i.O(s)})(); 
//# sourceMappingURL=app.3d418eff.js.map